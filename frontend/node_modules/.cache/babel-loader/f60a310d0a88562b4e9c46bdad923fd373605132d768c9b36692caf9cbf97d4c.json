{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\balne\\\\Desktop\\\\student-attendance-dashboard\\\\frontend\\\\src\\\\pages\\\\StudentListPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport StudentList from '../components/students/StudentList';\nimport AddStudentForm from '../components/students/AddStudentForm';\nimport Button from '../components/common/Button';\nimport { fetchStudents, createStudent } from '../services/api';\nimport './StudentListPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentListPage = () => {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  useEffect(() => {\n    loadStudents();\n  }, []);\n  const loadStudents = async () => {\n    try {\n      setLoading(true);\n      const response = await fetchStudents();\n      console.log('Students loaded:', response.data);\n      setStudents(response.data);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error loading students:', error);\n      alert('Error loading students: ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || error.message));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleAddStudent = async studentData => {\n    try {\n      console.log('Adding student:', studentData);\n      const response = await createStudent(studentData);\n      console.log('Student added successfully:', response.data);\n      setStudents(prev => [...prev, response.data]);\n      setShowAddForm(false);\n      alert('Student added successfully!');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error('Error adding student:', error);\n      const errorMessage = ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || error.message || 'Failed to add student. Please check your connection.';\n      alert('Error: ' + errorMessage);\n      throw new Error(errorMessage);\n    }\n  };\n  const handleAttendanceChange = async (studentId, status) => {\n    try {\n      console.log(`Marked student ${studentId} as ${status}`);\n      // TODO: Implement actual attendance submission\n      alert(`Attendance marked: Student ${studentId} is ${status}`);\n    } catch (error) {\n      console.error('Error submitting attendance:', error);\n      alert('Error submitting attendance');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"student-list-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading students...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"student-list-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"My Students\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [students.length > 0 && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => navigate('/summary'),\n            children: \"View Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: () => setShowAddForm(true),\n            children: \"Add Student\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(StudentList, {\n        students: students,\n        onAttendanceChange: handleAttendanceChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), showAddForm && /*#__PURE__*/_jsxDEV(AddStudentForm, {\n        onStudentAdded: handleAddStudent,\n        onCancel: () => setShowAddForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(StudentListPage, \"vK+Z6/lhQYixlbnhBsmFp6I2QVo=\", false, function () {\n  return [useNavigate];\n});\n_c = StudentListPage;\nexport default StudentListPage;\nvar _c;\n$RefreshReg$(_c, \"StudentListPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","StudentList","AddStudentForm","Button","fetchStudents","createStudent","jsxDEV","_jsxDEV","StudentListPage","_s","students","setStudents","showAddForm","setShowAddForm","loading","setLoading","navigate","loadStudents","response","console","log","data","error","_error$response","_error$response$data","alert","message","handleAddStudent","studentData","prev","_error$response2","_error$response2$data","errorMessage","Error","handleAttendanceChange","studentId","status","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","variant","onClick","onAttendanceChange","onStudentAdded","onCancel","_c","$RefreshReg$"],"sources":["C:/Users/balne/Desktop/student-attendance-dashboard/frontend/src/pages/StudentListPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport StudentList from '../components/students/StudentList';\r\nimport AddStudentForm from '../components/students/AddStudentForm';\r\nimport Button from '../components/common/Button';\r\nimport { fetchStudents, createStudent } from '../services/api';\r\nimport './StudentListPage.css';\r\n\r\nconst StudentListPage = () => {\r\n    const [students, setStudents] = useState([]);\r\n    const [showAddForm, setShowAddForm] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        loadStudents();\r\n    }, []);\r\n\r\n    const loadStudents = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await fetchStudents();\r\n            console.log('Students loaded:', response.data);\r\n            setStudents(response.data);\r\n        } catch (error) {\r\n            console.error('Error loading students:', error);\r\n            alert('Error loading students: ' + (error.response?.data?.message || error.message));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleAddStudent = async (studentData) => {\r\n        try {\r\n            console.log('Adding student:', studentData);\r\n            const response = await createStudent(studentData);\r\n            console.log('Student added successfully:', response.data);\r\n            setStudents(prev => [...prev, response.data]);\r\n            setShowAddForm(false);\r\n            alert('Student added successfully!');\r\n        } catch (error) {\r\n            console.error('Error adding student:', error);\r\n            const errorMessage = error.response?.data?.message || \r\n                               error.message || \r\n                               'Failed to add student. Please check your connection.';\r\n            alert('Error: ' + errorMessage);\r\n            throw new Error(errorMessage);\r\n        }\r\n    };\r\n\r\n    const handleAttendanceChange = async (studentId, status) => {\r\n        try {\r\n            console.log(`Marked student ${studentId} as ${status}`);\r\n            // TODO: Implement actual attendance submission\r\n            alert(`Attendance marked: Student ${studentId} is ${status}`);\r\n        } catch (error) {\r\n            console.error('Error submitting attendance:', error);\r\n            alert('Error submitting attendance');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"student-list-page\">\r\n                <div className=\"container\">\r\n                    <div className=\"loading-state\">\r\n                        <div className=\"spinner\"></div>\r\n                        <p>Loading students...</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"student-list-page\">\r\n            <div className=\"container\">\r\n                <div className=\"page-actions\">\r\n                    <h1 className=\"page-title\">My Students</h1>\r\n                    <div className=\"action-buttons\">\r\n                        {students.length > 0 && (\r\n                            <Button \r\n                                variant=\"secondary\" \r\n                                onClick={() => navigate('/summary')}\r\n                            >\r\n                                View Summary\r\n                            </Button>\r\n                        )}\r\n                        <Button \r\n                            variant=\"primary\" \r\n                            onClick={() => setShowAddForm(true)}\r\n                        >\r\n                            Add Student\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <StudentList\r\n                    students={students}\r\n                    onAttendanceChange={handleAttendanceChange}\r\n                />\r\n\r\n                {showAddForm && (\r\n                    <AddStudentForm\r\n                        onStudentAdded={handleAddStudent}\r\n                        onCancel={() => setShowAddForm(false)}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentListPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}